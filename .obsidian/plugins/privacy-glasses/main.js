/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

/*
    Privacy Glasses plugin for Obsidian
    Copyright 2021 Jill Alberts
    Licensed under the MIT License (http://opensource.org/licenses/MIT)
*/
class PrivacyGlassesPlugin extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.privacyGlasses = false;
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            this.statusBar = this.addStatusBarItem();
            yield this.loadSettings();
            this.addSettingTab(new privacyGlassesSettingTab(this.app, this));
            obsidian.addIcon('glasses', privacyGlassesIcon);
            this.addRibbonIcon('glasses', 'Toggle Privacy Glasses', () => {
                this.toggleGlasses();
            });
            this.addCommand({
                id: 'toggle-privacy-glasses',
                name: 'Toggle Privacy Glasses',
                callback: () => {
                    this.toggleGlasses();
                }
            });
            this.privacyGlasses = true; // we do not want to automatically activate the plugin upon vault open or initial plugin activation, 
            // so we temporarily set it to true just until it quickly gets flipped to false in toggleGlasses() on the next line
            yield this.toggleGlasses(true); // flips this.privacyGlasses to false and updates statusbar. 'true' means do toggle quietly (do not display a Notice)
        });
    }
    toggleGlasses(quiet = false) {
        return __awaiter(this, void 0, void 0, function* () {
            this.privacyGlasses = !this.privacyGlasses;
            let pgOnMsg = 'Privacy Glasses On';
            let pgOffMsg = 'Privacy Glasses Off';
            if (!quiet) {
                this.noticeMsg = new obsidian.Notice(this.privacyGlasses ? pgOnMsg : pgOffMsg, 2000);
            }
            this.statusBar.setText(this.privacyGlasses ? pgOnMsg : pgOffMsg);
            if (this.privacyGlasses) {
                this.addBlurLevelEl();
            }
            else {
                this.removeBlurLevelEl();
            }
            this.refresh(false); // false = no settings changes to save
        });
    }
    refresh(saveIt) {
        return __awaiter(this, void 0, void 0, function* () {
            this.updateStyle();
            if (saveIt) {
                yield this.saveSettings();
            }
        });
    }
    onunload() {
        return __awaiter(this, void 0, void 0, function* () {
            this.removeCssClasses();
            this.removeBlurLevelEl();
            this.statusBar.remove();
            yield this.saveSettings();
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign(DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
    updateStyle() {
        this.removeCssClasses();
        if (this.privacyGlasses) {
            this.updateBlurLevelEl();
            document.body.classList.add('privacy-glasses');
            if (this.settings.uiBlurMethod == 'blurUI') {
                document.body.classList.add('blur-ui');
            }
            if (this.settings.uiBlurMethod == 'blockUI') {
                document.body.classList.add('block-ui');
            }
            if (this.settings.uiBlurMethod == 'circlesUI') {
                document.body.classList.add('circles-ui');
            }
            if (this.settings.editBlurMethod == 'blurEdit') {
                document.body.classList.add('blur-edit');
            }
            if (this.settings.editBlurMethod == 'blockEdit') {
                document.body.classList.add('block-edit');
            }
            if (this.settings.editBlurMethod == 'circlesEdit') {
                document.body.classList.add('circles-edit');
            }
            if (this.settings.previewBlurMethod == 'blurPreview') {
                document.body.classList.add('blur-preview');
            }
            if (this.settings.previewBlurMethod == 'blockPreview') {
                document.body.classList.add('block-preview');
            }
            if (this.settings.previewBlurMethod == 'circlesPreview') {
                document.body.classList.add('circles-preview');
            }
        }
    }
    addBlurLevelEl() {
        this.blurLevelStyleEl = document.createElement('style');
        this.blurLevelStyleEl.id = 'privacyGlassesBlurLevel';
        document.head.appendChild(this.blurLevelStyleEl);
        this.updateBlurLevelEl();
    }
    updateBlurLevelEl() {
        this.blurLevelStyleEl.textContent = `body {--blurLevel:${this.settings.blurLevel}em};`;
    }
    removeBlurLevelEl() {
        if (this.blurLevelStyleEl) {
            this.blurLevelStyleEl.remove();
        }
    }
    removeCssClasses() {
        document.body.removeClass('privacy-glasses', 'blur-ui', 'block-ui', 'circles-ui', 'blur-edit', 'block-edit', 'circles-edit', 'blur-preview', 'block-preview', 'circles-preview');
    }
}
const DEFAULT_SETTINGS = {
    privacyGlasses: false,
    blurLevel: 0.6,
    editBlurMethod: 'blurEdit',
    previewBlurMethod: 'blurPreview',
    uiBlurMethod: 'blurUI'
};
class privacyGlassesSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h3', { text: 'Privacy Glasses v' + this.plugin.manifest.version });
        containerEl.createEl('a', { text: 'https://github.com/jillalberts/privacy-glasses', href: "https://github.com/jillalberts/privacy-glasses" });
        containerEl.createEl('span', { text: ': documentation, report issues, contact info' });
        containerEl.createEl('br');
        containerEl.createEl('a', { text: 'https://www.buymeacoffee.com/jillalberts', href: "https://www.buymeacoffee.com/jillalberts" });
        containerEl.createEl('span', { text: ': tip jar' });
        containerEl.createEl('p', { text: 'To activate/deactivate Privacy Glasses, click the glasses icon on the left-hand ribbon or run the "Toggle Privacy Glasses" command in the Command Palette (Ctrl-P). The command can also be bound to a keyboard shortcut if you wish.' });
        containerEl.createEl('p', { text: 'Experimental settings that don\'t always work as well as you might like are marked with a "⚠️". They are safe to use but can behave in annoying ways.' });
        new obsidian.Setting(containerEl)
            .setName('Privacy Glasses Activated')
            .setDesc('Indicates whether or not the plugin is currently activated.')
            .addToggle((toggle) => {
            toggle.setValue(this.plugin.privacyGlasses);
            toggle.onChange((value) => __awaiter(this, void 0, void 0, function* () {
                yield this.plugin.toggleGlasses();
            }));
        });
        var sliderEl = new obsidian.Setting(containerEl);
        let sliderElDesc = 'Higher is blurrier. Default=60, current=';
        sliderEl
            .setName('Blur Level (only affects elements for which "Blurry Text" is selected below)')
            .setDesc(sliderElDesc + Math.round(this.plugin.settings.blurLevel * 100))
            // ^ need rounding to not show values like '55.00000000000001'
            .addSlider(slider => slider
            .setLimits(0.1, 1.5, 0.05)
            .setValue(this.plugin.settings.blurLevel)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.blurLevel = value;
            sliderEl.setDesc(sliderElDesc + Math.round(this.plugin.settings.blurLevel * 100));
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Edit Mode')
            .setDesc('How to obfuscate the document\'s text in Edit Mode')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurEdit', 'Blurry Text')
            .addOption('blockEdit', 'Solid Blocks')
            .addOption('circlesEdit', 'Circles ⚠️')
            .setValue(this.plugin.settings.editBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.editBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Preview Mode')
            .setDesc('How to obfuscate the document\'s text in Preview Mode')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurPreview', 'Blurry Text')
            .addOption('blockPreview', 'Solid Blocks ⚠️')
            .addOption('circlesPreview', 'Circles ⚠️')
            .setValue(this.plugin.settings.previewBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.previewBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Sidebars')
            .setDesc('How to obfuscate your file list, tags, outline, etc in Obsidian\'s sidebars')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurUI', 'Blurry Text')
            .addOption('blockUI', 'Solid Blocks')
            .addOption('circlesUI', 'Circles')
            .setValue(this.plugin.settings.uiBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.uiBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
    }
}
const privacyGlassesIcon = `<path style=" stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1;" d="M 18.242188 7.664062 C 15.429688 7.84375 12.015625 8.40625 6.914062 9.53125 C 6.140625 9.703125 4.328125 10.070312 2.890625 10.359375 C 1.453125 10.648438 0.234375 10.890625 0.1875 10.90625 C 0.0703125 10.929688 -0.0390625 13.554688 0.0234375 14.570312 C 0.125 16.132812 0.375 16.703125 1.5 17.992188 C 3.414062 20.1875 3.726562 20.710938 4.171875 22.539062 C 5.171875 26.609375 6.757812 31.226562 8.429688 34.914062 C 9.46875 37.21875 10.859375 38.625 13.398438 39.929688 C 17.726562 42.164062 23.382812 42.898438 29.453125 42.03125 C 33.164062 41.492188 36.179688 39.9375 38.867188 37.179688 C 40.78125 35.210938 42.304688 32.976562 43.945312 29.726562 C 44.78125 28.078125 45.03125 27.40625 45.664062 25.039062 C 46.179688 23.125 46.445312 22.335938 46.921875 21.367188 C 47.59375 19.96875 48 19.679688 49.335938 19.625 C 49.765625 19.609375 50.59375 19.632812 51.171875 19.671875 C 52.429688 19.757812 52.664062 19.851562 53.289062 20.523438 C 54.109375 21.414062 54.625 22.492188 55.304688 24.75 C 56.984375 30.34375 59.09375 34.21875 61.960938 36.992188 C 63.320312 38.304688 64.382812 39.0625 66.007812 39.875 C 69.179688 41.46875 72.679688 42.265625 76.523438 42.265625 C 83.632812 42.265625 89.484375 39.320312 92.46875 34.242188 C 93.53125 32.445312 94.09375 30.851562 95.234375 26.40625 C 96.570312 21.203125 96.90625 20.203125 97.734375 18.984375 C 98.085938 18.46875 98.71875 17.867188 99.273438 17.515625 C 99.960938 17.078125 99.960938 17.085938 99.945312 14.21875 C 99.945312 13.554688 99.945312 12.742188 99.953125 12.421875 C 99.96875 11.34375 99.609375 11.039062 97.945312 10.734375 C 96.609375 10.484375 95.679688 10.265625 93.476562 9.65625 C 90.921875 8.945312 90.515625 8.851562 88.367188 8.515625 C 83.03125 7.671875 81.625 7.539062 78.757812 7.601562 C 74.945312 7.6875 72.304688 8.0625 64.492188 9.609375 C 59.21875 10.65625 57.03125 11.023438 54.507812 11.289062 C 52.570312 11.492188 50.179688 11.570312 48.46875 11.484375 C 45.40625 11.335938 43.914062 11.109375 39.257812 10.078125 C 34.960938 9.125 34.09375 8.960938 31.203125 8.554688 C 25.0625 7.703125 21.523438 7.460938 18.242188 7.664062 Z M 18.242188 7.664062 "/>`;

module.exports = PrivacyGlassesPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsIi8qIFx0XHJcblx0UHJpdmFjeSBHbGFzc2VzIHBsdWdpbiBmb3IgT2JzaWRpYW5cclxuXHRDb3B5cmlnaHQgMjAyMSBKaWxsIEFsYmVydHNcclxuXHRMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQpIFxyXG4qL1xyXG5cclxuaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIGFkZEljb24sIFRvZ2dsZUNvbXBvbmVudCwgTm90aWNlfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcml2YWN5R2xhc3Nlc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG5cdHNldHRpbmdzOiBQcml2YWN5R2xhc3Nlc1NldHRpbmdzO1xyXG5cdHN0YXR1c0JhcjogSFRNTEVsZW1lbnQ7XHJcblx0bm90aWNlTXNnOiBOb3RpY2U7XHJcblx0Ymx1ckxldmVsU3R5bGVFbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmFjeUdsYXNzZXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIFx0XHRcclxuXHRcdHRoaXMuc3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IHByaXZhY3lHbGFzc2VzU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdGFkZEljb24oJ2dsYXNzZXMnLCBwcml2YWN5R2xhc3Nlc0ljb24pO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ2dsYXNzZXMnLCAnVG9nZ2xlIFByaXZhY3kgR2xhc3NlcycsICgpID0+IHtcclxuXHRcdFx0dGhpcy50b2dnbGVHbGFzc2VzKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3RvZ2dsZS1wcml2YWN5LWdsYXNzZXMnLCBcclxuXHRcdFx0bmFtZTogJ1RvZ2dsZSBQcml2YWN5IEdsYXNzZXMnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudG9nZ2xlR2xhc3NlcygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLnByaXZhY3lHbGFzc2VzID0gdHJ1ZTtcdC8vIHdlIGRvIG5vdCB3YW50IHRvIGF1dG9tYXRpY2FsbHkgYWN0aXZhdGUgdGhlIHBsdWdpbiB1cG9uIHZhdWx0IG9wZW4gb3IgaW5pdGlhbCBwbHVnaW4gYWN0aXZhdGlvbiwgXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIHNvIHdlIHRlbXBvcmFyaWx5IHNldCBpdCB0byB0cnVlIGp1c3QgdW50aWwgaXQgcXVpY2tseSBnZXRzIGZsaXBwZWQgdG8gZmFsc2UgaW4gdG9nZ2xlR2xhc3NlcygpIG9uIHRoZSBuZXh0IGxpbmVcclxuXHRcdGF3YWl0IHRoaXMudG9nZ2xlR2xhc3Nlcyh0cnVlKTsgLy8gZmxpcHMgdGhpcy5wcml2YWN5R2xhc3NlcyB0byBmYWxzZSBhbmQgdXBkYXRlcyBzdGF0dXNiYXIuICd0cnVlJyBtZWFucyBkbyB0b2dnbGUgcXVpZXRseSAoZG8gbm90IGRpc3BsYXkgYSBOb3RpY2UpXHJcblx0fVxyXG5cclxuXHRhc3luYyB0b2dnbGVHbGFzc2VzKHF1aWV0OiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcblx0XHR0aGlzLnByaXZhY3lHbGFzc2VzID0gIXRoaXMucHJpdmFjeUdsYXNzZXM7XHJcblx0XHRcclxuXHRcdGxldCBwZ09uTXNnID0gJ1ByaXZhY3kgR2xhc3NlcyBPbic7XHJcblx0XHRsZXQgcGdPZmZNc2cgPSAnUHJpdmFjeSBHbGFzc2VzIE9mZic7XHJcblx0XHRpZiAoIXF1aWV0KSB7XHJcblx0XHRcdHRoaXMubm90aWNlTXNnID0gbmV3IE5vdGljZSh0aGlzLnByaXZhY3lHbGFzc2VzID8gcGdPbk1zZyA6IHBnT2ZmTXNnLCAyMDAwKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN0YXR1c0Jhci5zZXRUZXh0KHRoaXMucHJpdmFjeUdsYXNzZXMgPyBwZ09uTXNnIDogcGdPZmZNc2cpO1xyXG5cclxuXHRcdGlmICh0aGlzLnByaXZhY3lHbGFzc2VzKSB7XHJcblx0XHRcdHRoaXMuYWRkQmx1ckxldmVsRWwoKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR0aGlzLnJlbW92ZUJsdXJMZXZlbEVsKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5yZWZyZXNoKGZhbHNlKTsgLy8gZmFsc2UgPSBubyBzZXR0aW5ncyBjaGFuZ2VzIHRvIHNhdmVcclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlZnJlc2goc2F2ZUl0OiBib29sZWFuKSB7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVTdHlsZSgpO1xyXG5cdFx0aWYgKHNhdmVJdCkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgb251bmxvYWQoKSB7XHJcblxyXG5cdFx0dGhpcy5yZW1vdmVDc3NDbGFzc2VzKCk7XHJcblx0XHR0aGlzLnJlbW92ZUJsdXJMZXZlbEVsKCk7XHJcblx0XHR0aGlzLnN0YXR1c0Jhci5yZW1vdmUoKTtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblxyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cdFxyXG5cdHVwZGF0ZVN0eWxlKCkge1xyXG5cclxuXHRcdHRoaXMucmVtb3ZlQ3NzQ2xhc3NlcygpO1xyXG5cclxuXHRcdGlmICh0aGlzLnByaXZhY3lHbGFzc2VzKSB7XHJcblxyXG5cdFx0XHR0aGlzLnVwZGF0ZUJsdXJMZXZlbEVsKCk7XHJcblxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3ByaXZhY3ktZ2xhc3NlcycpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MudWlCbHVyTWV0aG9kID09ICdibHVyVUknKSB7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdibHVyLXVpJyk7fVxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy51aUJsdXJNZXRob2QgPT0gJ2Jsb2NrVUknKSB7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdibG9jay11aScpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MudWlCbHVyTWV0aG9kID09ICdjaXJjbGVzVUknKSB7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdjaXJjbGVzLXVpJyk7fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZWRpdEJsdXJNZXRob2QgPT0gJ2JsdXJFZGl0Jykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmx1ci1lZGl0Jyk7fVxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5lZGl0Qmx1ck1ldGhvZCA9PSAnYmxvY2tFZGl0Jykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmxvY2stZWRpdCcpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZWRpdEJsdXJNZXRob2QgPT0gJ2NpcmNsZXNFZGl0Jykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnY2lyY2xlcy1lZGl0Jyk7fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucHJldmlld0JsdXJNZXRob2QgPT0gJ2JsdXJQcmV2aWV3Jykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmx1ci1wcmV2aWV3Jyk7fVxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5wcmV2aWV3Qmx1ck1ldGhvZCA9PSAnYmxvY2tQcmV2aWV3Jykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmxvY2stcHJldmlldycpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucHJldmlld0JsdXJNZXRob2QgPT0gJ2NpcmNsZXNQcmV2aWV3Jykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnY2lyY2xlcy1wcmV2aWV3Jyk7fVxyXG5cdFx0fVxyXG5cdH1cdFxyXG5cclxuXHRhZGRCbHVyTGV2ZWxFbCgpIHtcclxuXHJcblx0XHR0aGlzLmJsdXJMZXZlbFN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG5cdFx0dGhpcy5ibHVyTGV2ZWxTdHlsZUVsLmlkID0gJ3ByaXZhY3lHbGFzc2VzQmx1ckxldmVsJztcclxuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5ibHVyTGV2ZWxTdHlsZUVsKTtcclxuXHRcdHRoaXMudXBkYXRlQmx1ckxldmVsRWwoKTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZUJsdXJMZXZlbEVsKCkge1xyXG5cclxuXHRcdHRoaXMuYmx1ckxldmVsU3R5bGVFbC50ZXh0Q29udGVudCA9IGBib2R5IHstLWJsdXJMZXZlbDoke3RoaXMuc2V0dGluZ3MuYmx1ckxldmVsfWVtfTtgO1xyXG5cdH1cclxuXHJcblx0cmVtb3ZlQmx1ckxldmVsRWwoKSB7XHJcblxyXG5cdFx0aWYgKHRoaXMuYmx1ckxldmVsU3R5bGVFbCkge1xyXG5cdFx0XHR0aGlzLmJsdXJMZXZlbFN0eWxlRWwucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHJlbW92ZUNzc0NsYXNzZXMoKSB7XHJcblxyXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcyhcdCdwcml2YWN5LWdsYXNzZXMnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmx1ci11aScsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdibG9jay11aScsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdjaXJjbGVzLXVpJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2JsdXItZWRpdCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdibG9jay1lZGl0JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2NpcmNsZXMtZWRpdCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdibHVyLXByZXZpZXcnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmxvY2stcHJldmlldycsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdjaXJjbGVzLXByZXZpZXcnXHJcblx0XHRcdFx0XHRcdFx0XHQgKTtcclxuXHR9XHJcbn1cclxuXHJcbmludGVyZmFjZSBQcml2YWN5R2xhc3Nlc1NldHRpbmdzIHtcclxuXHRwcml2YWN5R2xhc3NlczogYm9vbGVhbjtcclxuXHRibHVyTGV2ZWw6IG51bWJlcjtcclxuXHRlZGl0Qmx1ck1ldGhvZDogc3RyaW5nO1xyXG5cdHByZXZpZXdCbHVyTWV0aG9kOiBzdHJpbmc7XHJcblx0dWlCbHVyTWV0aG9kOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFByaXZhY3lHbGFzc2VzU2V0dGluZ3MgPSB7XHJcblx0cHJpdmFjeUdsYXNzZXM6IGZhbHNlLFxyXG5cdGJsdXJMZXZlbDogMC42LFxyXG5cdGVkaXRCbHVyTWV0aG9kOiAnYmx1ckVkaXQnLFxyXG5cdHByZXZpZXdCbHVyTWV0aG9kOiAnYmx1clByZXZpZXcnLFxyXG5cdHVpQmx1ck1ldGhvZDogJ2JsdXJVSSdcclxufVxyXG5cclxuY2xhc3MgcHJpdmFjeUdsYXNzZXNTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblxyXG5cdHBsdWdpbjogUHJpdmFjeUdsYXNzZXNQbHVnaW47XHJcblx0XHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBQcml2YWN5R2xhc3Nlc1BsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG4gIFxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblxyXG5cdFx0bGV0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cdFxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHt0ZXh0OiAnUHJpdmFjeSBHbGFzc2VzIHYnICsgdGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbn0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2EnLCB7dGV4dDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9qaWxsYWxiZXJ0cy9wcml2YWN5LWdsYXNzZXMnLCBocmVmOlwiaHR0cHM6Ly9naXRodWIuY29tL2ppbGxhbGJlcnRzL3ByaXZhY3ktZ2xhc3Nlc1wifSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnc3BhbicsIHt0ZXh0OiAnOiBkb2N1bWVudGF0aW9uLCByZXBvcnQgaXNzdWVzLCBjb250YWN0IGluZm8nfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnYnInKTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdhJywge3RleHQ6ICdodHRwczovL3d3dy5idXltZWFjb2ZmZWUuY29tL2ppbGxhbGJlcnRzJywgaHJlZjpcImh0dHBzOi8vd3d3LmJ1eW1lYWNvZmZlZS5jb20vamlsbGFsYmVydHNcIn0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3NwYW4nLCB7dGV4dDogJzogdGlwIGphcid9KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdUbyBhY3RpdmF0ZS9kZWFjdGl2YXRlIFByaXZhY3kgR2xhc3NlcywgY2xpY2sgdGhlIGdsYXNzZXMgaWNvbiBvbiB0aGUgbGVmdC1oYW5kIHJpYmJvbiBvciBydW4gdGhlIFwiVG9nZ2xlIFByaXZhY3kgR2xhc3Nlc1wiIGNvbW1hbmQgaW4gdGhlIENvbW1hbmQgUGFsZXR0ZSAoQ3RybC1QKS4gVGhlIGNvbW1hbmQgY2FuIGFsc28gYmUgYm91bmQgdG8gYSBrZXlib2FyZCBzaG9ydGN1dCBpZiB5b3Ugd2lzaC4nfSk7XHRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdFeHBlcmltZW50YWwgc2V0dGluZ3MgdGhhdCBkb25cXCd0IGFsd2F5cyB3b3JrIGFzIHdlbGwgYXMgeW91IG1pZ2h0IGxpa2UgYXJlIG1hcmtlZCB3aXRoIGEgXCLimqDvuI9cIi4gVGhleSBhcmUgc2FmZSB0byB1c2UgYnV0IGNhbiBiZWhhdmUgaW4gYW5ub3lpbmcgd2F5cy4nfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdQcml2YWN5IEdsYXNzZXMgQWN0aXZhdGVkJylcclxuXHRcdFx0LnNldERlc2MoJ0luZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcGx1Z2luIGlzIGN1cnJlbnRseSBhY3RpdmF0ZWQuJylcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnByaXZhY3lHbGFzc2VzKTtcclxuXHRcdFx0XHR0b2dnbGUub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi50b2dnbGVHbGFzc2VzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdHZhciBzbGlkZXJFbCA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKTtcclxuXHRcdGxldCBzbGlkZXJFbERlc2MgPSAnSGlnaGVyIGlzIGJsdXJyaWVyLiBEZWZhdWx0PTYwLCBjdXJyZW50PSc7XHJcblx0XHRzbGlkZXJFbCBcclxuXHRcdFx0LnNldE5hbWUoJ0JsdXIgTGV2ZWwgKG9ubHkgYWZmZWN0cyBlbGVtZW50cyBmb3Igd2hpY2ggXCJCbHVycnkgVGV4dFwiIGlzIHNlbGVjdGVkIGJlbG93KScpXHJcblx0XHRcdC5zZXREZXNjKHNsaWRlckVsRGVzYyArIE1hdGgucm91bmQodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmx1ckxldmVsKjEwMCkpIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBeIG5lZWQgcm91bmRpbmcgdG8gbm90IHNob3cgdmFsdWVzIGxpa2UgJzU1LjAwMDAwMDAwMDAwMDAxJ1xyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDAuMSwgMS41LCAwLjA1KVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibHVyTGV2ZWwpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYmx1ckxldmVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRzbGlkZXJFbC5zZXREZXNjKHNsaWRlckVsRGVzYyArIE1hdGgucm91bmQodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmx1ckxldmVsKjEwMCkpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ucmVmcmVzaCh0cnVlKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnT2JmdXNjYXRpb24gbWV0aG9kIGZvciBFZGl0IE1vZGUnKVxyXG5cdFx0XHQuc2V0RGVzYygnSG93IHRvIG9iZnVzY2F0ZSB0aGUgZG9jdW1lbnRcXCdzIHRleHQgaW4gRWRpdCBNb2RlJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbignJywnW09mZl0nKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2JsdXJFZGl0JywnQmx1cnJ5IFRleHQnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2Jsb2NrRWRpdCcsJ1NvbGlkIEJsb2NrcycpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignY2lyY2xlc0VkaXQnLCdDaXJjbGVzIOKaoO+4jycpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVkaXRCbHVyTWV0aG9kKVxyXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZWRpdEJsdXJNZXRob2QgPSB2YWx1ZTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5yZWZyZXNoKHRydWUpO1xyXG5cdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZSgnT2JmdXNjYXRpb24gbWV0aG9kIGZvciBQcmV2aWV3IE1vZGUnKVxyXG5cdFx0LnNldERlc2MoJ0hvdyB0byBvYmZ1c2NhdGUgdGhlIGRvY3VtZW50XFwncyB0ZXh0IGluIFByZXZpZXcgTW9kZScpXHJcblx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0LmFkZE9wdGlvbignJywnW09mZl0nKVxyXG5cdFx0XHQuYWRkT3B0aW9uKCdibHVyUHJldmlldycsJ0JsdXJyeSBUZXh0JylcclxuXHRcdFx0LmFkZE9wdGlvbignYmxvY2tQcmV2aWV3JywnU29saWQgQmxvY2tzIOKaoO+4jycpXHJcblx0XHRcdC5hZGRPcHRpb24oJ2NpcmNsZXNQcmV2aWV3JywnQ2lyY2xlcyDimqDvuI8nKVxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJldmlld0JsdXJNZXRob2QpXHJcblx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByZXZpZXdCbHVyTWV0aG9kID0gdmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnJlZnJlc2godHJ1ZSk7XHJcblx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdPYmZ1c2NhdGlvbiBtZXRob2QgZm9yIFNpZGViYXJzJylcclxuXHRcdFx0LnNldERlc2MoJ0hvdyB0byBvYmZ1c2NhdGUgeW91ciBmaWxlIGxpc3QsIHRhZ3MsIG91dGxpbmUsIGV0YyBpbiBPYnNpZGlhblxcJ3Mgc2lkZWJhcnMnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCcnLCdbT2ZmXScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignYmx1clVJJywnQmx1cnJ5IFRleHQnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2Jsb2NrVUknLCdTb2xpZCBCbG9ja3MnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2NpcmNsZXNVSScsJ0NpcmNsZXMnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51aUJsdXJNZXRob2QpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51aUJsdXJNZXRob2QgPSB2YWx1ZTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5yZWZyZXNoKHRydWUpO1xyXG5cdFx0fSkpOyAgXHJcblx0fVxyXG4gIH1cclxuXHJcbmNvbnN0IHByaXZhY3lHbGFzc2VzSWNvbiA9IGA8cGF0aCBzdHlsZT1cIiBzdHJva2U6bm9uZTtmaWxsLXJ1bGU6bm9uemVybztmaWxsOmN1cnJlbnRDb2xvcjtmaWxsLW9wYWNpdHk6MTtcIiBkPVwiTSAxOC4yNDIxODggNy42NjQwNjIgQyAxNS40Mjk2ODggNy44NDM3NSAxMi4wMTU2MjUgOC40MDYyNSA2LjkxNDA2MiA5LjUzMTI1IEMgNi4xNDA2MjUgOS43MDMxMjUgNC4zMjgxMjUgMTAuMDcwMzEyIDIuODkwNjI1IDEwLjM1OTM3NSBDIDEuNDUzMTI1IDEwLjY0ODQzOCAwLjIzNDM3NSAxMC44OTA2MjUgMC4xODc1IDEwLjkwNjI1IEMgMC4wNzAzMTI1IDEwLjkyOTY4OCAtMC4wMzkwNjI1IDEzLjU1NDY4OCAwLjAyMzQzNzUgMTQuNTcwMzEyIEMgMC4xMjUgMTYuMTMyODEyIDAuMzc1IDE2LjcwMzEyNSAxLjUgMTcuOTkyMTg4IEMgMy40MTQwNjIgMjAuMTg3NSAzLjcyNjU2MiAyMC43MTA5MzggNC4xNzE4NzUgMjIuNTM5MDYyIEMgNS4xNzE4NzUgMjYuNjA5Mzc1IDYuNzU3ODEyIDMxLjIyNjU2MiA4LjQyOTY4OCAzNC45MTQwNjIgQyA5LjQ2ODc1IDM3LjIxODc1IDEwLjg1OTM3NSAzOC42MjUgMTMuMzk4NDM4IDM5LjkyOTY4OCBDIDE3LjcyNjU2MiA0Mi4xNjQwNjIgMjMuMzgyODEyIDQyLjg5ODQzOCAyOS40NTMxMjUgNDIuMDMxMjUgQyAzMy4xNjQwNjIgNDEuNDkyMTg4IDM2LjE3OTY4OCAzOS45Mzc1IDM4Ljg2NzE4OCAzNy4xNzk2ODggQyA0MC43ODEyNSAzNS4yMTA5MzggNDIuMzA0Njg4IDMyLjk3NjU2MiA0My45NDUzMTIgMjkuNzI2NTYyIEMgNDQuNzgxMjUgMjguMDc4MTI1IDQ1LjAzMTI1IDI3LjQwNjI1IDQ1LjY2NDA2MiAyNS4wMzkwNjIgQyA0Ni4xNzk2ODggMjMuMTI1IDQ2LjQ0NTMxMiAyMi4zMzU5MzggNDYuOTIxODc1IDIxLjM2NzE4OCBDIDQ3LjU5Mzc1IDE5Ljk2ODc1IDQ4IDE5LjY3OTY4OCA0OS4zMzU5MzggMTkuNjI1IEMgNDkuNzY1NjI1IDE5LjYwOTM3NSA1MC41OTM3NSAxOS42MzI4MTIgNTEuMTcxODc1IDE5LjY3MTg3NSBDIDUyLjQyOTY4OCAxOS43NTc4MTIgNTIuNjY0MDYyIDE5Ljg1MTU2MiA1My4yODkwNjIgMjAuNTIzNDM4IEMgNTQuMTA5Mzc1IDIxLjQxNDA2MiA1NC42MjUgMjIuNDkyMTg4IDU1LjMwNDY4OCAyNC43NSBDIDU2Ljk4NDM3NSAzMC4zNDM3NSA1OS4wOTM3NSAzNC4yMTg3NSA2MS45NjA5MzggMzYuOTkyMTg4IEMgNjMuMzIwMzEyIDM4LjMwNDY4OCA2NC4zODI4MTIgMzkuMDYyNSA2Ni4wMDc4MTIgMzkuODc1IEMgNjkuMTc5Njg4IDQxLjQ2ODc1IDcyLjY3OTY4OCA0Mi4yNjU2MjUgNzYuNTIzNDM4IDQyLjI2NTYyNSBDIDgzLjYzMjgxMiA0Mi4yNjU2MjUgODkuNDg0Mzc1IDM5LjMyMDMxMiA5Mi40Njg3NSAzNC4yNDIxODggQyA5My41MzEyNSAzMi40NDUzMTIgOTQuMDkzNzUgMzAuODUxNTYyIDk1LjIzNDM3NSAyNi40MDYyNSBDIDk2LjU3MDMxMiAyMS4yMDMxMjUgOTYuOTA2MjUgMjAuMjAzMTI1IDk3LjczNDM3NSAxOC45ODQzNzUgQyA5OC4wODU5MzggMTguNDY4NzUgOTguNzE4NzUgMTcuODY3MTg4IDk5LjI3MzQzOCAxNy41MTU2MjUgQyA5OS45NjA5MzggMTcuMDc4MTI1IDk5Ljk2MDkzOCAxNy4wODU5MzggOTkuOTQ1MzEyIDE0LjIxODc1IEMgOTkuOTQ1MzEyIDEzLjU1NDY4OCA5OS45NDUzMTIgMTIuNzQyMTg4IDk5Ljk1MzEyNSAxMi40MjE4NzUgQyA5OS45Njg3NSAxMS4zNDM3NSA5OS42MDkzNzUgMTEuMDM5MDYyIDk3Ljk0NTMxMiAxMC43MzQzNzUgQyA5Ni42MDkzNzUgMTAuNDg0Mzc1IDk1LjY3OTY4OCAxMC4yNjU2MjUgOTMuNDc2NTYyIDkuNjU2MjUgQyA5MC45MjE4NzUgOC45NDUzMTIgOTAuNTE1NjI1IDguODUxNTYyIDg4LjM2NzE4OCA4LjUxNTYyNSBDIDgzLjAzMTI1IDcuNjcxODc1IDgxLjYyNSA3LjUzOTA2MiA3OC43NTc4MTIgNy42MDE1NjIgQyA3NC45NDUzMTIgNy42ODc1IDcyLjMwNDY4OCA4LjA2MjUgNjQuNDkyMTg4IDkuNjA5Mzc1IEMgNTkuMjE4NzUgMTAuNjU2MjUgNTcuMDMxMjUgMTEuMDIzNDM4IDU0LjUwNzgxMiAxMS4yODkwNjIgQyA1Mi41NzAzMTIgMTEuNDkyMTg4IDUwLjE3OTY4OCAxMS41NzAzMTIgNDguNDY4NzUgMTEuNDg0Mzc1IEMgNDUuNDA2MjUgMTEuMzM1OTM4IDQzLjkxNDA2MiAxMS4xMDkzNzUgMzkuMjU3ODEyIDEwLjA3ODEyNSBDIDM0Ljk2MDkzOCA5LjEyNSAzNC4wOTM3NSA4Ljk2MDkzOCAzMS4yMDMxMjUgOC41NTQ2ODggQyAyNS4wNjI1IDcuNzAzMTI1IDIxLjUyMzQzOCA3LjQ2MDkzOCAxOC4yNDIxODggNy42NjQwNjIgWiBNIDE4LjI0MjE4OCA3LjY2NDA2MiBcIi8+YCJdLCJuYW1lcyI6WyJQbHVnaW4iLCJhZGRJY29uIiwiTm90aWNlIiwiUGx1Z2luU2V0dGluZ1RhYiIsIlNldHRpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1REE7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUss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
